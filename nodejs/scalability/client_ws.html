<html>
	
	<head>
		<meta charset="UTF-8">
		
		<style type="text/css">
		 #text {
         position: absolute;		 
		 }
		</style>
	   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js"></script>
       <!--<script src="http://cdn.binaryjs.com/0/binary.js"></script>-->
       <script type="text/javascript" src="node_modules/msgpack-js-browser/msgpack.js"></script>
       <script src="node_modules/binaryjs/dist/binary.js"></script>
	   <script>
	   		var startTime;
	   		hostname = window.location.hostname;
			var ws = new WebSocket('ws://' + '192.168.1.97' + ':1234');
			ws.binaryType = 'arraybuffer';
			ws.onopen = function event(){
				//ws.send("connected");
			}			
			ws.onmessage =  function(event){
				// var receiveTime = new Date();
				// console.log('Event emitted at: ' + receiveTime.getHours() + ':' + 
    //              receiveTime.getMinutes() + ':' + receiveTime.getSeconds() + ':' + receiveTime.getMilliseconds());
				message = event.data;
				//console.log(message);
				decoded = msgpack.decode(message);
				console.log(decoded);
				timeTaken = new Date().getTime() - startTime;
				document.getElementById("time").innerHTML = timeTaken;		
			};

			function start(){
				startTime = new Date().getTime();
				ws.send(document.getElementById("size").value);					
			}

	   </script>
	   
		<title> Client page</title>
	</head>
	
	<body>
	
	    <div>
         Enter number of elements: <input type="text" name="elements" id="size"/> 
         <br/><br/>
         <input type="button" name="submit" value="submit" onclick="start()"/>
        </div>  		
	    <div>  		    
		  Result: <br/> 
          <br/><br/>
          Time Taken (ms): <br/>
          <p id="time"></p>              
		</div>
		
	</body>
</html>